(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(t,e,n){t.exports=n(67)},45:function(t,e,n){},65:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(12),c=n.n(i),o=n(4),l=(n(45),n(28)),u=n(29),p=n(34),d=n(30),s=n(35),f=n(1),m=n(2),E=n(10),h=n.n(E),g=["\u042f\u043d\u0432.","\u0424\u0435\u0432.","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440.","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433.","\u0421\u0435\u043d.","\u041e\u043a\u0442.","\u041d\u043e\u044f\u0431.","\u0414\u0435\u043a."],v=function(t){var e=t.applicable_date,n=parseInt(e.slice(-5,-3)),a=g[n-1],r=parseInt(e.slice(-2));return"".concat(r," ").concat(a)};function b(){var t=Object(f.a)(["\n  background-color: #FFDE02;\n  color: black;\n  border-radius: 17px;\n  font-size: 1.5rem;\n  padding: 10px;\n  cursor: pointer;\n  border: 1px solid #C8A331;\n  &:focus {\n    outline: none\n  }\n"]);return b=function(){return t},t}var w=m.a.button(b()),_=function(t){return r.a.createElement(w,{onClick:function(){t.inProgress(!0),t.appState("\u0418\u0449\u0435\u043c \u0412\u0430\u0441"),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n=e.coords,a=n.latitude,r=n.longitude;t.setWeather({latitude:a,longitude:r})},function(){t.inProgress(!1)}):h.a.get("http://localhost:8085/api/ip").then(function(e){t.changeFinishSt(!0),t.inProgress(!1)})}}," \u041a\u0430\u043a \u043f\u043e\u0433\u043e\u0434\u043a\u0430? ")},x=Object(o.b)(function(){return{}},function(t){return{changeFinishSt:function(e){t({type:"CHANGE_FINISH_STATE",payload:e})},appState:function(e){t(function(t){return{type:"CHANGE_APP_STATE",payload:t}}(e))},setWeather:function(e){t(function(t){return function(e){e({type:"CHANGE_APP_STATE",payload:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0433\u043e\u0440\u043e\u0434"}),h.a.get("http://localhost:8085/api/city?lat=".concat(t.latitude,"&long=").concat(t.longitude)).then(function(t){var n=t.data[0].woeid;e({type:"CHANGE_CITY",payload:t.data[0].title}),e({type:"CHANGE_APP_STATE",payload:"\u0421\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u0433\u043e\u0434\u0443 \u0443 \u043c\u0435\u0441\u0442\u043d\u044b\u0445"}),h.a.get("http://localhost:8085/api/weather?city=".concat(n)).then(function(t){var n=t.data.map(function(t){return t.applicable_date=v(t),t});e({type:"CHANGE_PROGRESS_STATE",payload:!1}),e({type:"CHANGE_FINISH_STATE",payload:!0}),e({type:"SET_WEATHER",payload:n})}).catch(function(t){e({type:"CHANGE_PROGRESS_STATE",payload:!1}),e({type:"CHANGE_FINISH_STATE",payload:!1})})}).catch(function(t){e({type:"CHANGE_PROGRESS_STATE",payload:!1}),e({type:"CHANGE_FINISH_STATE",payload:!1})})}}(e))},inProgress:function(e){t(function(t){return{type:"CHANGE_PROGRESS_STATE",payload:t}}(e))}}})(_),y=n(8);function S(){var t=Object(f.a)(["\n  font-size: ",";\n  padding: ",";\n"]);return S=function(){return t},t}function O(){var t=Object(f.a)(["\n  text-align: ",";\n"]);return O=function(){return t},t}function j(){var t=Object(f.a)(["\n  width: 20%;\n  order: 2;\n  text-align: center;\n  div {\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n    p {\n      margin-top: 0px;\n    }\n  }\n"]);return j=function(){return t},t}function T(){var t=Object(f.a)(["\n  width: 80%\n  order: 1;\n  text-align: left;\n  border-right: 1px solid rgba(0,0,0, 0.1);\n  p {\n    margin: 2.5px 0px;\n  }\n"]);return T=function(){return t},t}function A(){var t=Object(f.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n"]);return A=function(){return t},t}var C=m.a.div(A()),N=m.a.div(T()),H=m.a.div(j()),G=m.a.div(O(),function(t){return t.center?"center":"right"}),F=m.a.span(S(),function(t){return t.small?"0.8rem":"1.2rem"},function(t){return t.padding?"5px":"5px 5px 0px"}),P=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],I=new Date,R=function(t){var e,n,a=t.props;return r.a.createElement(C,null,r.a.createElement(N,null,r.a.createElement(G,{center:!0},r.a.createElement(F,{padding:!0},P[I.getMonth()],", ",I.getDate())),r.a.createElement("p",null,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442 ",a.min_temp.toFixed(1),"\xb0C \u0438 \u0434\u043e ",a.max_temp.toFixed(1),"\xb0C."," "),r.a.createElement("p",null,"\u0412\u0435\u0442\u0435\u0440 ",(n=a.wind_direction)>315||n<45&&n>=0?"\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439":n>45&&n<135?"\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439":n>135&&n<225?"\u044e\u0436\u043d\u044b\u0439":n>225&&n<315?"\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439":void 0,", ",(.44704*a.wind_speed).toFixed(1),"\u043c/\u0441."," "),r.a.createElement("p",null,"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",a.humidity,"%, \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",(.750062*a.air_pressure).toFixed(1),"\u043c\u043c \u0440\u0442 \u0441\u0442."),r.a.createElement(G,{align:"right"},r.a.createElement(F,{small:!0},"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u0430: ",a.predictability,"%"))),r.a.createElement(H,null,r.a.createElement("div",null,r.a.createElement("img",{src:(e=a.weather_state_abbr,"https://www.metaweather.com/static/img/weather/".concat(e,".svg")),alt:a.weather_state_name,width:"32px"}),r.a.createElement("p",null,a.the_temp.toFixed(1),"\xb0C"))))};function k(){var t=Object(f.a)(["\n  background-color: white;\n  border-radius: 17px;\n  max-width: 95vw;\n  padding: 10px;\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n"]);return k=function(){return t},t}var D=m.a.div(k()),W=function(t){var e=t.children;return r.a.createElement(D,null," ",e," ")};function z(){var t=Object(f.a)(["\n  width: 25%;\n  order: 3;\n  text-align: center;\n  p {\n    margin-top: 0px;\n  }\n"]);return z=function(){return t},t}function X(){var t=Object(f.a)(["\n  width: 50%\n  order: 2;\n  text-align: center;\n  border-left: 1px solid rgba(0,0,0, 0.1);\n  border-right: 1px solid rgba(0,0,0, 0.1);\n  p {\n    margin: 2.5px 0px;\n  }\n"]);return X=function(){return t},t}function Y(){var t=Object(f.a)(["\n  width: 25%;\n  order:1;\n  text-align: center;\n"]);return Y=function(){return t},t}function B(){var t=Object(f.a)(["\n  grid-row: span 1;\n  border-radius: 10px;\n  font-size: 1.1rem;\n  max-width: 90vw;\n  @media only screen and (max-width: 764px) {\n    margin: 0 auto;\n    width: 100%;\n  }\n"]);return B=function(){return t},t}function J(){var t=Object(f.a)(["\n  display: grid;\n  padding-left: 0;\n  justify-content: center;\n  list-style: none;\n  grid-template-columns: repeat(auto-fill, 350px);\n  grid-auto-flow: dense;\n  grid-auto-rows: auto;\n  grid-gap: 8px;\n"]);return J=function(){return t},t}var L=m.a.ul(J()),U=m.a.li(B()),V=m.a.div(Y()),M=m.a.div(X()),$=m.a.div(z()),q=function(t){var e=t.props;return r.a.createElement(L,null,console.log(e),e.map(function(t,e){return r.a.createElement(U,{key:e},r.a.createElement(W,null,r.a.createElement(V,null,t.applicable_date),r.a.createElement(M,null,r.a.createElement("p",null," \u043e\u0442 ",t.min_temp.toFixed(1),"\xb0C \u0434\u043e ",t.max_temp.toFixed(1),"\xb0C "),r.a.createElement("p",null," \u0412\u0435\u0442\u0435\u0440 ",(.44704*t.wind_speed).toFixed(1),"\u043c/\u0441 ")),r.a.createElement($,null,r.a.createElement("img",{src:(n=t.weather_state_abbr,"https://www.metaweather.com/static/img/weather/".concat(n,".svg")),alt:t.weather_state_name,width:"32px"}),r.a.createElement("p",null,t.the_temp.toFixed(1),"\xb0C"))));var n}))};function K(){var t=Object(f.a)(["\n  width: 95%;\n  text-align: center;\n"]);return K=function(){return t},t}var Q=m.a.div(K()),Z=function(t){return r.a.createElement(Q,null,r.a.createElement("h2",null," ",t.appState.city," "),r.a.createElement(W,null,r.a.createElement(R,{props:t.weather[0]})),r.a.createElement(q,{props:Object(y.a)(t.weather.slice(1))}))},tt=Object(o.b)(function(t){return{weather:t.weather,appState:t.appState}})(Z);function et(){var t=Object(f.a)(["\n  background-color: rgba(0,0,0,0.6);\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n"]);return et=function(){return t},t}var nt=m.a.div(et()),at=function(t){var e=t.children;return r.a.createElement(nt,null," ",e," ")},rt=(n(65),function(){return r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))});function it(){var t=Object(f.a)(["\n  color: rgba(255,255,255, 0.7);\n  font-size: 1.2rem;\n  margin-top:0px;\n"]);return it=function(){return t},t}var ct=m.a.p(it()),ot=function(t){var e=t.children;return r.a.createElement(ct,null,e)};function lt(){var t=Object(f.a)(["\n  position: fixed;\n  top: calc(50% + 32px);\n  text-align: center;\n  width: 100%;\n"]);return lt=function(){return t},t}var ut=m.a.div(lt()),pt=function(t){return r.a.createElement(at,null,r.a.createElement(rt,null),r.a.createElement(ut,null,t.appState.state.map(function(t,e){return r.a.createElement(ot,{key:e},t)})))},dt=Object(o.b)(function(t){return{appState:t.appState}})(pt);function st(){var t=Object(f.a)(["\n  background: linear-gradient(to right, purple, #ff93a6);\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n"]);return st=function(){return t},t}var ft=m.a.div(st()),mt=function(t){function e(){return Object(l.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(ft,null,this.props.appState.finished&&this.props.weather.length>0?r.a.createElement(tt,null):r.a.createElement(x,null),this.props.appState.progress&&r.a.createElement(dt,null))}}]),e}(r.a.Component),Et=Object(o.b)(function(t){return{appState:t.appState,weather:t.weather}})(mt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht=n(5),gt=n(33),vt=n(11),bt={city:"",progress:!1,state:[],finished:!1,error:{status:!1,text:""}};var wt=[];var _t=Object(ht.c)({appState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_APP_STATE":return Object(vt.a)({},t,{state:Object(y.a)(t.state).concat([e.payload])});case"CHANGE_PROGRESS_STATE":return Object(vt.a)({},t,{progress:e.payload});case"CHANGE_FINISH_STATE":return Object(vt.a)({},t,{finished:e.payload});case"CHANGE_CITY":return Object(vt.a)({},t,{city:e.payload});default:return t}},weather:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_WEATHER":return Object(y.a)(e.payload);default:return t}}}),xt=Object(ht.e)(_t,Object(ht.d)(Object(ht.a)(gt.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t}));c.a.render(r.a.createElement(o.a,{store:xt},r.a.createElement(Et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.67595007.chunk.js.map