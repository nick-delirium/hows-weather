(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(67)},45:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),c=n.n(i),o=n(4),l=(n(45),n(28)),u=n(29),p=n(34),d=n(30),s=n(35),f=n(1),m=n(2),E=n(12),h=n.n(E),g=["\u042f\u043d\u0432.","\u0424\u0435\u0432.","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440.","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433.","\u0421\u0435\u043d.","\u041e\u043a\u0442.","\u041d\u043e\u044f\u0431.","\u0414\u0435\u043a."],v=function(e){var t=e.applicable_date,n=parseInt(t.slice(-5,-3)),a=g[n-1],r=parseInt(t.slice(-2));return"".concat(r," ").concat(a)};function b(){var e=Object(f.a)(["\n  background-color: #FFDE02;\n  color: black;\n  border-radius: 17px;\n  font-size: 1.5rem;\n  padding: 10px;\n  cursor: pointer;\n  border: 1px solid #C8A331;\n  &:focus {\n    outline: none\n  }\n"]);return b=function(){return e},e}var w=m.a.button(b()),_=function(e){var t=function(t){e.inProgress(!0),console.log(t),e.appState("\u0418\u0449\u0435\u043c \u0412\u0430\u0441"),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){var n=t.coords,a=n.latitude,r=n.longitude;e.setWeather({latitude:a,longitude:r})},function(){e.inProgress(!1)}):alert("\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430.")};return r.a.createElement(w,{onClick:t("click"),onTouchStart:t("touch")}," \u041a\u0430\u043a \u043f\u043e\u0433\u043e\u0434\u043a\u0430? ")},x=Object(o.b)(function(){return{}},function(e){return{changeFinishSt:function(t){e({type:"CHANGE_FINISH_STATE",payload:t})},appState:function(t){e(function(e){return{type:"CHANGE_APP_STATE",payload:e}}(t))},setWeather:function(t){e(function(e){return function(t){t({type:"CHANGE_APP_STATE",payload:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0433\u043e\u0440\u043e\u0434"}),h.a.get("/api/city?lat=".concat(e.latitude,"&long=").concat(e.longitude)).then(function(e){var n=e.data[0].woeid;t({type:"CHANGE_CITY",payload:e.data[0].title}),t({type:"CHANGE_APP_STATE",payload:"\u0421\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u0433\u043e\u0434\u0443 \u0443 \u043c\u0435\u0441\u0442\u043d\u044b\u0445"}),h.a.get("/api/weather?city=".concat(n)).then(function(e){var n=e.data.map(function(e){return e.applicable_date=v(e),e});t({type:"CHANGE_PROGRESS_STATE",payload:!1}),t({type:"CHANGE_FINISH_STATE",payload:!0}),t({type:"SET_WEATHER",payload:n})}).catch(function(e){t({type:"CHANGE_PROGRESS_STATE",payload:!1}),t({type:"CHANGE_FINISH_STATE",payload:!1})})}).catch(function(e){t({type:"CHANGE_PROGRESS_STATE",payload:!1}),t({type:"CHANGE_FINISH_STATE",payload:!1})})}}(t))},inProgress:function(t){e(function(e){return{type:"CHANGE_PROGRESS_STATE",payload:e}}(t))}}})(_),y=n(8);function S(){var e=Object(f.a)(["\n  font-size: ",";\n  padding: ",";\n"]);return S=function(){return e},e}function O(){var e=Object(f.a)(["\n  text-align: ",";\n"]);return O=function(){return e},e}function j(){var e=Object(f.a)(["\n  width: 20%;\n  order: 2;\n  text-align: center;\n  div {\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n    p {\n      margin-top: 0px;\n    }\n  }\n"]);return j=function(){return e},e}function T(){var e=Object(f.a)(["\n  width: 80%\n  order: 1;\n  text-align: left;\n  border-right: 1px solid rgba(0,0,0, 0.1);\n  p {\n    margin: 2.5px 0px;\n  }\n"]);return T=function(){return e},e}function A(){var e=Object(f.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n"]);return A=function(){return e},e}var C=m.a.div(A()),N=m.a.div(T()),H=m.a.div(j()),G=m.a.div(O(),function(e){return e.center?"center":"right"}),F=m.a.span(S(),function(e){return e.small?"0.8rem":"1.2rem"},function(e){return e.padding?"5px":"5px 5px 0px"}),I=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],P=new Date,k=function(e){var t,n,a=e.props;return r.a.createElement(C,null,r.a.createElement(N,null,r.a.createElement(G,{center:!0},r.a.createElement(F,{padding:!0},I[P.getMonth()],", ",P.getDate())),r.a.createElement("p",null,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442 ",a.min_temp.toFixed(1),"\xb0C \u0438 \u0434\u043e ",a.max_temp.toFixed(1),"\xb0C."," "),r.a.createElement("p",null,"\u0412\u0435\u0442\u0435\u0440 ",(n=a.wind_direction)>315||n<45&&n>=0?"\u0441\u0435\u0432\u0435\u0440\u043d\u044b\u0439":n>45&&n<135?"\u0432\u043e\u0441\u0442\u043e\u0447\u043d\u044b\u0439":n>135&&n<225?"\u044e\u0436\u043d\u044b\u0439":n>225&&n<315?"\u0437\u0430\u043f\u0430\u0434\u043d\u044b\u0439":void 0,", ",(.44704*a.wind_speed).toFixed(1),"\u043c/\u0441."," "),r.a.createElement("p",null,"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",a.humidity,"%, \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043e\u0437\u0434\u0443\u0445\u0430: ",(.750062*a.air_pressure).toFixed(1),"\u043c\u043c \u0440\u0442 \u0441\u0442."),r.a.createElement(G,{align:"right"},r.a.createElement(F,{small:!0},"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u0430: ",a.predictability,"%"))),r.a.createElement(H,null,r.a.createElement("div",null,r.a.createElement("img",{src:(t=a.weather_state_abbr,"https://www.metaweather.com/static/img/weather/".concat(t,".svg")),alt:a.weather_state_name,width:"32px"}),r.a.createElement("p",null,a.the_temp.toFixed(1),"\xb0C"))))};function R(){var e=Object(f.a)(["\n  background-color: white;\n  border-radius: 17px;\n  max-width: 95vw;\n  padding: 10px;\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n"]);return R=function(){return e},e}var D=m.a.div(R()),W=function(e){var t=e.children;return r.a.createElement(D,null," ",t," ")};function z(){var e=Object(f.a)(["\n  width: 25%;\n  order: 3;\n  text-align: center;\n  p {\n    margin-top: 0px;\n  }\n"]);return z=function(){return e},e}function X(){var e=Object(f.a)(["\n  width: 50%\n  order: 2;\n  text-align: center;\n  border-left: 1px solid rgba(0,0,0, 0.1);\n  border-right: 1px solid rgba(0,0,0, 0.1);\n  p {\n    margin: 2.5px 0px;\n  }\n"]);return X=function(){return e},e}function Y(){var e=Object(f.a)(["\n  width: 25%;\n  order:1;\n  text-align: center;\n"]);return Y=function(){return e},e}function B(){var e=Object(f.a)(["\n  grid-row: span 1;\n  border-radius: 10px;\n  font-size: 1.1rem;\n  max-width: 90vw;\n  @media only screen and (max-width: 764px) {\n    margin: 0 auto;\n    width: 100%;\n  }\n"]);return B=function(){return e},e}function J(){var e=Object(f.a)(["\n  display: grid;\n  padding-left: 0;\n  justify-content: center;\n  list-style: none;\n  grid-template-columns: repeat(auto-fill, 350px);\n  grid-auto-flow: dense;\n  grid-auto-rows: auto;\n  grid-gap: 8px;\n"]);return J=function(){return e},e}var L=m.a.ul(J()),U=m.a.li(B()),V=m.a.div(Y()),M=m.a.div(X()),$=m.a.div(z()),q=function(e){var t=e.props;return r.a.createElement(L,null,console.log(t),t.map(function(e,t){return r.a.createElement(U,{key:t},r.a.createElement(W,null,r.a.createElement(V,null,e.applicable_date),r.a.createElement(M,null,r.a.createElement("p",null," \u043e\u0442 ",e.min_temp.toFixed(1),"\xb0C \u0434\u043e ",e.max_temp.toFixed(1),"\xb0C "),r.a.createElement("p",null," \u0412\u0435\u0442\u0435\u0440 ",(.44704*e.wind_speed).toFixed(1),"\u043c/\u0441 ")),r.a.createElement($,null,r.a.createElement("img",{src:(n=e.weather_state_abbr,"https://www.metaweather.com/static/img/weather/".concat(n,".svg")),alt:e.weather_state_name,width:"32px"}),r.a.createElement("p",null,e.the_temp.toFixed(1),"\xb0C"))));var n}))};function K(){var e=Object(f.a)(["\n  width: 95%;\n  text-align: center;\n"]);return K=function(){return e},e}var Q=m.a.div(K()),Z=function(e){return r.a.createElement(Q,null,r.a.createElement("h2",null," ",e.appState.city," "),r.a.createElement(W,null,r.a.createElement(k,{props:e.weather[0]})),r.a.createElement(q,{props:Object(y.a)(e.weather.slice(1))}))},ee=Object(o.b)(function(e){return{weather:e.weather,appState:e.appState}})(Z);function te(){var e=Object(f.a)(["\n  background-color: rgba(0,0,0,0.6);\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n"]);return te=function(){return e},e}var ne=m.a.div(te()),ae=function(e){var t=e.children;return r.a.createElement(ne,null," ",t," ")},re=(n(65),function(){return r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))});function ie(){var e=Object(f.a)(["\n  color: rgba(255,255,255, 0.7);\n  font-size: 1.2rem;\n  margin-top:0px;\n"]);return ie=function(){return e},e}var ce=m.a.p(ie()),oe=function(e){var t=e.children;return r.a.createElement(ce,null,t)};function le(){var e=Object(f.a)(["\n  position: fixed;\n  top: calc(50% + 32px);\n  text-align: center;\n  width: 100%;\n"]);return le=function(){return e},e}var ue=m.a.div(le()),pe=function(e){return r.a.createElement(ae,null,r.a.createElement(re,null),r.a.createElement(ue,null,e.appState.state.map(function(e,t){return r.a.createElement(oe,{key:t},e)})))},de=Object(o.b)(function(e){return{appState:e.appState}})(pe);function se(){var e=Object(f.a)(["\n  background: linear-gradient(to right, purple, #ff93a6);\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n"]);return se=function(){return e},e}var fe=m.a.div(se()),me=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(fe,null,this.props.appState.finished&&this.props.weather.length>0?r.a.createElement(ee,null):r.a.createElement(x,null),this.props.appState.progress&&r.a.createElement(de,null))}}]),t}(r.a.Component),Ee=Object(o.b)(function(e){return{appState:e.appState,weather:e.weather}})(me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=n(5),ge=n(33),ve=n(10),be={city:"",progress:!1,state:[],finished:!1,error:{status:!1,text:""}};var we=[];var _e=Object(he.c)({appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_APP_STATE":return Object(ve.a)({},e,{state:Object(y.a)(e.state).concat([t.payload])});case"CHANGE_PROGRESS_STATE":return Object(ve.a)({},e,{progress:t.payload});case"CHANGE_FINISH_STATE":return Object(ve.a)({},e,{finished:t.payload});case"CHANGE_CITY":return Object(ve.a)({},e,{city:t.payload});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WEATHER":return Object(y.a)(t.payload);default:return e}}}),xe=Object(he.e)(_e,Object(he.d)(Object(he.a)(ge.a),"object"===typeof window&&"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));c.a.render(r.a.createElement(o.a,{store:xe},r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.78df1c9a.chunk.js.map